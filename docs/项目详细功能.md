# AI 周报润色 - 项目详细功能

> 本文档用于理解项目功能细节，便于给出 PRD 改进建议。
> 最后更新：2026-02-01 v1.7.0

---

## 一、产品定位

**产品名称：** AI 周报润色

**一句话描述：** AI 驱动的周报智能润色工具，帮助职场人士将随意的工作记录转化为专业的周报汇报。

**目标用户：**
- 产品经理（PM）
- 开发工程师（Dev）
- 运营人员（Ops）
- 其他需要周报汇报的职场人士

**用户痛点：**
- 周报编写耗时，缺乏专业表达
- 不知道如何量化技术/运营成果
- 重点不突出，逻辑混乱
- 无法体现工作价值

---

## 二、核心功能

### 2.1 基础润色
- **功能**：一键将原始周报转化为专业周报
- **输入**：用户随意写的工作记录
- **输出**：结构化、专业化的周报
- **限制**：Free 用户 3次/天，Pro 无限

### 2.2 多角色润色
根据职能选择不同角色，AI 使用对应的专业提示词：

| 角色 | 特点 | 限制 |
|------|------|------|
| PM（产品经理） | 成果量化、价值前置、风险透明 | Free 可用 |
| Dev（开发工程师） | 技术深度、性能指标、代码贡献 | Pro 专属 |
| Ops（运营） | 数据驱动、增长归因、ROI | Pro 专属 |

### 2.3 范本学习（Pro）
- 用户上传一份认可的周报作为参考范本
- AI 学习范本的结构、语气、表达方式
- 新输入的周报按照范本风格进行改写
- 可保存多份范本进行选择

### 2.4 AI 对话修改（Pro）
与 AI 进行多轮对话，逐步优化周报：
- "让技术部分更专业"
- "减少篇幅，突出重点"
- "加入数据支持"
- "调整语气更正式"

AI 按 ReAct 模式响应：
1. **Thought** - 分析修改需求
2. **Action** - 执行修改，输出新版周报
3. **Observation** - 说明做了什么改动

### 2.5 周报历史记录
- 自动保存每次润色的原文和结果
- 支持查看详情、删除
- Free 用户：最多 7 条
- Pro 用户：无限

### 2.6 对话历史（Pro）
- 保存 AI 对话修改的完整对话记录
- 可查看每次修改的思考过程

---

## 三、用户角色与权限

### 3.1 角色定义

| 角色 | 登录方式 | 说明 |
|------|---------|------|
| 游客 | 无需登录 | 体验基础功能，1次试用 |
| Free 用户 | 手机号验证码 | 免费用户，功能受限 |
| Pro 用户 | 手机号验证码 | 付费用户，全部功能 |
| 管理员 | 邮箱密码 | 系统管理，后台权限 |

### 3.2 权限矩阵

| 功能 | 游客 | Free | Pro | Admin |
|------|------|------|-----|-------|
| 基础润色 | 1次 | 3次/天 | 无限 | 无限 |
| PM 角色 | ✓ | ✓ | ✓ | ✓ |
| Dev/Ops 角色 | ✗ | ✗ | ✓ | ✓ |
| 范本学习 | ✗ | ✗ | ✓ | ✓ |
| AI 对话修改 | ✗ | ✗ | ✓ | ✓ |
| 历史记录 | ✗ | 7条 | 无限 | 无限 |
| 范本管理 | ✗ | ✗ | ✓ | ✓ |
| 管理后台 | ✗ | ✗ | ✗ | ✓ |

---

## 四、页面清单

| 页面 | 路径 | 功能 | 访问限制 |
|------|------|------|---------|
| Landing 首页 | /landing.html | 产品介绍、CTA | 无 |
| 主润色页面 | /index.html | 核心润色功能 | 无 |
| 登录页 | /login.html | 手机号验证码登录 | 无 |
| 周报历史 | /history.html | 历史周报列表 | 需登录 |
| 反馈提交 | /submit.html | 用户反馈 | 无 |
| 系统日志 | /logs.html | 日志查看 | 管理员 |
| 管理后台 | /admin.html | 用户管理、统计 | 管理员 |

---

## 五、用户流程

### 5.1 新用户注册登录流程
```
Landing 页面 → 点击"开始使用"
    ↓
Login 页面 → 输入手机号
    ↓
点击"获取验证码" → 收到验证码（测试阶段固定 123456）
    ↓
输入验证码 → 点击"登录/注册"
    ↓
自动创建 Free 账户 → 跳转主页
```

### 5.2 润色使用流程
```
主页 index.html
    ↓
输入周报内容（文本框）
    ↓
选择角色（PM/Dev/Ops）
    ↓
[可选] 勾选"范本学习模式" → 选择范本
    ↓
点击"一键润色"
    ↓
等待 AI 处理（3-10秒）
    ↓
显示润色结果
    ↓
[Pro 用户] 可点击"对话修改"进入对话模式
    ↓
结果自动保存到历史记录
```

### 5.3 升级提示触发点
- Free 用户选择 Dev/Ops 角色时
- Free 用户点击"范本学习"时
- Free 用户点击"AI 对话修改"时
- Free 用户日限额用尽时
- Free 用户历史记录超过 7 条时

---

## 六、付费模式

### 6.1 当前状态
- 仅有 Free 和 Pro 两种计划
- Pro 升级入口存在，但未接入支付
- 管理员可手动修改用户 plan

### 6.2 定价策略（待定）
| 计划 | 价格 | 功能 |
|------|------|------|
| Free | 免费 | 基础润色 3次/天，仅 PM 角色 |
| Pro | ？元/月 | 无限润色，全部角色，AI 对话，范本 |

---

## 七、反馈系统

### 7.1 反馈类型
- Bug 报告
- 功能建议
- 一般反馈

### 7.2 反馈状态
- pending（待处理）
- in_progress（处理中）
- resolved（已解决）
- closed（已关闭）

### 7.3 管理后台功能
- 查看所有反馈
- 按类型/状态筛选
- 更新状态和备注

---

## 八、数据统计（管理后台）

### 8.1 概览数据
- 用户总数
- 周报总数
- 反馈总数

### 8.2 趋势图表
- 每日使用量趋势（Chart.js）
- 用户 Plan 分布饼图

### 8.3 用户管理
- 用户列表（手机号、昵称、计划、使用量）
- 可手动修改用户 Plan

### 8.4 系统日志
- 操作类型：发送验证码、验证验证码、登录、注册、润色、对话
- 支持按类型筛选
- 自动刷新（30秒）

---

## 九、当前版本

**版本号：** v1.7.0

**版本历史：**
- v1.7.0 - Phase 2 完成（满意度评分、导出功能：Markdown/Word/图片）
- v1.6.0 - Phase 1 完成（流式输出：润色和对话实时显示）
- v1.5.0 - Phase 0 完成（删除日志页面、游客IP限制、权限修复、移除历史限制）
- v1.4.5 - 验证码固定为 123456（测试阶段）
- v1.4.4 - 自动创建管理员账号
- v1.4.3 - 新增系统日志查看页面
- v1.4.2 - 添加 devMode 标识和调试日志
- v1.4.1 - 修复日期格式兼容问题
- v1.4.0 - 手机验证码登录
- v1.3.0 - Phase 3 完成（Landing、SEO）
- v1.2.0 - Phase 2 完成（付费墙、历史、后台）
- v1.1.0 - Phase 1 完成（数据库、用户系统）
