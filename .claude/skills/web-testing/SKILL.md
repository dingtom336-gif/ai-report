---
name: web-testing
description: Web应用端到端测试方法论。当测试功能、验证修改、检查bug修复、部署后验证时使用。核心原则：永远从用户视角验证，API 200不等于功能可用。
---

# Web应用测试方法论

## 铁律：三个"不等于"
- API状态码200 ≠ 功能可用（200只表示服务器收到请求，不表示返回了正确数据）
- 加载条出现 ≠ 功能完成（加载条10秒后还在转就是异常）
- 能点击按钮 ≠ 功能正常（要看用户最终得到了什么）

## 正确的验证链条
API 200 → 检查响应体内容 → 前端接收数据 → UI渲染显示 → 用户看到结果 → 才算功能正常

## 验收标准模板（每个功能必须先定义）
- 用户输入：具体的测试数据
- 用户操作：具体的按钮/动作
- 时间期望：X秒内完成（设定上限，建议30秒）
- 成功标志：用户能看到什么具体内容
- 失败标志：超时/错误提示/结果为空

## 端到端验证流程（6步）
1. 清空状态，刷新页面，确保干净的起点
2. 输入测试数据，点击操作，记录T=0
3. 持续观察UI变化，按时间线记录：
   - T=2秒：加载状态是否出现
   - T=5秒：是否开始出现结果
   - T=10秒：结果是否开始显示（此时应该有内容）
   - T=20秒：是否完全显示
   - T=30秒：仍无结果 → 标记为FAILED
4. 如果显示了结果，验证：内容合理？长度正确？格式正确？可复制/导出？
5. 至少重复3次，确认稳定性（1次成功+1次失败=不稳定=FAILED）
6. 如果失败，定位原因层：前端问题？后端问题？网络问题？

## 测试时的思维方式
- ❌ 问"API调用成功了吗？" → ✓ 问"用户最后看到了什么？"
- ❌ 问"页面加载了吗？" → ✓ 问"用户能使用这个功能吗？"
- ❌ 问"代码有无错误？" → ✓ 问"用户的任务是否完成了？"

## 禁止的模糊结论
- ✗ "应该没问题"、"可能会显示"、"应该快了"、"功能正常"
- ✓ "3次测试均在10秒内显示完整结果，PASS"
- ✓ "30秒后仍无结果，API返回200但响应体为空，FAIL"

## 证据收集（每次测试必须记录）
- 时间线（T=0, T=5, T=10...的UI状态）
- API响应状态码 AND 响应体内容
- Console错误信息
- Network面板请求详情
- 用户实际看到的最终内容

## 对比验证（发现"不一致"就说明有问题）
- 之前同类功能能正常显示 → 这次为什么不能？
- 加载条显示了 → 为什么结果没出来？
- API返回200 → 为什么用户看不到内容？
